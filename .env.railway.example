# Railway Environment Variables Template
# Copy these to Railway dashboard under Settings â†’ Variables
# Or use: railway variables set KEY="value"

# ============================================
# CRITICAL - Required for deployment
# ============================================

# Auth.js Configuration (REQUIRED)
AUTH_SECRET="generate-with-openssl-rand-base64-32"
AUTH_GITHUB_ID="your-github-oauth-app-client-id"
AUTH_GITHUB_SECRET="your-github-oauth-app-client-secret"
NEXTAUTH_URL="https://your-app.railway.app"

# Application URLs (REQUIRED)
NEXT_PUBLIC_APP_URL="https://your-app.railway.app"

# Environment (REQUIRED)
NODE_ENV="production"

# ============================================
# Database & Cache (Auto-configured by Railway)
# ============================================

# PostgreSQL - Automatically set by Railway PostgreSQL plugin
# DATABASE_URL="postgresql://user:pass@host:port/db"

# Redis - Automatically set by Railway Redis plugin
# REDIS_URL="redis://host:port"

# ============================================
# File Storage (Cloudflare R2)
# ============================================

# Configure these when setting up file uploads
R2_ENDPOINT="https://xxx.r2.cloudflarestorage.com"
R2_ACCESS_KEY_ID="your-r2-access-key-id"
R2_SECRET_ACCESS_KEY="your-r2-secret-access-key"
R2_BUCKET_NAME="projectfinish"
R2_PUBLIC_URL="https://pub-xxx.r2.dev"

# ============================================
# Payments (Stripe Connect)
# ============================================

# Configure these when setting up payments
STRIPE_SECRET_KEY="sk_live_..."
STRIPE_PUBLISHABLE_KEY="pk_live_..."
STRIPE_WEBHOOK_SECRET="whsec_..."

# Use test keys for staging
# STRIPE_SECRET_KEY="sk_test_..."
# STRIPE_PUBLISHABLE_KEY="pk_test_..."

# ============================================
# Email (SendGrid)
# ============================================

# Configure these when setting up email notifications
SENDGRID_API_KEY="SG.xxx"
SENDGRID_FROM_EMAIL="noreply@projectfinish.com"

# ============================================
# Optional - Monitoring & Debugging
# ============================================

# Sentry Error Tracking (optional)
# SENTRY_DSN="https://xxx@xxx.ingest.sentry.io/xxx"

# Debug logging (disable in production)
# DEBUG="*"
# LOG_LEVEL="info"

# ============================================
# Deployment-Specific Settings
# ============================================

# Railway automatically sets these:
# PORT=3000
# RAILWAY_ENVIRONMENT=production
# RAILWAY_PROJECT_ID=xxx
# RAILWAY_SERVICE_ID=xxx

# ============================================
# Setup Instructions
# ============================================

# 1. Generate AUTH_SECRET:
#    openssl rand -base64 32

# 2. Create GitHub OAuth App:
#    https://github.com/settings/developers
#    - Application name: ProjectFinish (Production)
#    - Homepage URL: https://your-app.railway.app
#    - Callback URL: https://your-app.railway.app/api/auth/callback/github

# 3. Set variables in Railway:
#    railway variables set AUTH_SECRET="..."
#    railway variables set AUTH_GITHUB_ID="..."
#    railway variables set AUTH_GITHUB_SECRET="..."
#    railway variables set NEXTAUTH_URL="https://your-app.railway.app"
#    railway variables set NEXT_PUBLIC_APP_URL="https://your-app.railway.app"

# 4. Verify deployment:
#    railway logs --tail
#    railway open
